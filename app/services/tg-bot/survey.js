export function createBriefSurvey() {
  return [
    {
      key: 'goals',
      question:
        'Какие цели ставите перед кампанией? (Например: рост лидов, повышение узнаваемости бренда.)',
      hint:
        'Подсказка: сформулируйте измеримую цель, например «увеличить лидогенерацию на 20% в течение месяца».'
    },
    {
      key: 'audience',
      question: 'Кто целевая аудитория? Опишите сегменты, должности, географию и боли клиентов.',
      hint:
        'Подсказка: перечислите основные группы — возраст, индустрия, роль, типовые возражения и мотивацию.'
    },
    {
      key: 'offer',
      question: 'Какое предложение или продукт продвигаем?',
      hint:
        'Подсказка: укажите ключевую ценность, конкурентные преимущества и условия оффера.'
    },
    {
      key: 'tone',
      question: 'В каком тоне следует коммуницировать?',
      hint:
        'Подсказка: выберите стиль — например, деловой, дружелюбный, экспертный, вдохновляющий.'
    },
    {
      key: 'keyMessages',
      question: 'Какие ключевые сообщения обязательно нужно донести?',
      hint:
        'Подсказка: перечислите 2–3 тезиса, которые должны звучать в каждом контакте.'
    },
    {
      key: 'callToAction',
      question: 'Какое целевое действие ждём от аудитории?',
      hint:
        'Подсказка: регистрация на вебинар, заявка на демо, переход на лендинг, подписка и т. д.'
    },
    {
      key: 'successMetrics',
      question: 'По каким метрикам оценим успех кампании?',
      hint:
        'Подсказка: количество лидов, стоимость заявки, конверсия, ROI, удержание — любые важные KPI.'
    },
    {
      key: 'references',
      question:
        'Есть ли примеры, референсы или материалы, на которые стоит ориентироваться?',
      hint:
        'Подсказка: поделитесь ссылками на прошлые кампании, презентации, сайты или бренды, которые нравятся.'
    }
  ];
}

export function summarizeAnswers(answers = {}) {
  const segments = [];

  if (answers.goals) {
    segments.push(`Цели: ${answers.goals}`);
  }

  if (answers.audience) {
    segments.push(`Аудитория: ${answers.audience}`);
  }

  if (answers.offer) {
    segments.push(`Оффер: ${answers.offer}`);
  }

  if (answers.keyMessages) {
    segments.push(`Сообщения: ${answers.keyMessages}`);
  }

  if (answers.callToAction) {
    segments.push(`CTA: ${answers.callToAction}`);
  }

  if (segments.length === 0) {
    return 'Ответы ещё не собраны. Завершите опрос в Telegram командой /setup.';
  }

  return segments.join('\n');
}

export function buildExecutionPlan(answers = {}) {
  const sections = [];

  sections.push(
    `1. Цели кампании: ${answers.goals || 'уточняются — заполните раздел «Цели».'}`
  );
  sections.push(
    `2. Целевая аудитория: ${
      answers.audience ||
      'описание отсутствует — расскажите о сегментах, чтобы адаптировать коммуникацию.'
    }`
  );
  sections.push(
    `3. УТП и предложение: ${
      answers.offer ||
      'добавьте краткое описание продукта, чтобы команда понимала ценность.'
    }`
  );
  sections.push(
    `4. Ключевые сообщения: ${
      answers.keyMessages ||
      'перечислите 2–3 тезиса, которые нужно повторять в каждом касании.'
    }`
  );
  sections.push(
    `5. Призыв к действию: ${answers.callToAction || 'уточните целевое действие для аудитории.'}`
  );
  sections.push(
    `6. Тон коммуникации: ${
      answers.tone || 'опишите, как должна звучать кампания (деловой, дружелюбный и т. п.).'
    }`
  );
  sections.push(
    `7. Метрики успеха: ${
      answers.successMetrics ||
      'задайте KPI — конверсию, стоимость лида, CTR, ROI и другие важные показатели.'
    }`
  );
  sections.push(
    `8. Референсы и материалы: ${
      answers.references ||
      'добавьте ссылки на примеры, чтобы выдержать нужный стиль и оформление.'
    }`
  );

  return sections.join('\n');
}
